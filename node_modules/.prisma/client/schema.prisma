datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id           Int               @id @default(autoincrement())
  name         String
  email        String            @unique
  password     String
  age          Int               @default(25)
  gender       String            @default("unspecified")
  //   files     File[]
  reminders    Reminder[]
  medicalTests MedicalAnalysis[]
  createdAt    DateTime          @default(now())
}

// model File {
//   id            Int      @id @default(autoincrement())
//   filePath      String
//   extractedText String
//   userId        Int
//   createdAt     DateTime @default(now())
//   updatedAt     DateTime @updatedAt

//   User User[]
// }

model MedicalAnalysis {
  id         Int      @id @default(autoincrement())
  alb        Float?
  alp        Float?
  che        Float?
  bil        Float?
  ast        Float?
  alt        Float?
  chol       Float?
  crea       Float?
  ggt        Float?
  prot       Float?
  text       String
  aiFeedback String?
  filePath   String
  fileName   String
  userId     Int
  user       User     @relation(fields: [userId], references: [id])
  createdAt  DateTime @default(now())
}

model Questionnaire {
  id         Int      @id @default(autoincrement())
  userId     Int
  bmi        Boolean
  fever      Boolean
  nausea     Boolean
  headache   Boolean
  diarrhea   Boolean
  fatigue    Boolean
  jaundice   Boolean
  epigastric Boolean
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

model Reminder {
  id        Int      @id @default(autoincrement())
  message   String
  date      DateTime
  userId    Int
  user      User     @relation(fields: [userId], references: [id])
  createdAt DateTime @default(now())
}
